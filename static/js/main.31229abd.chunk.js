(this.webpackJsonpsuperb=this.webpackJsonpsuperb||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=n(17),s=n(52),d=n(34),l=n(38),u=n(83);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No data",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return new Promise((function(n){return setTimeout((function(){n(e)}),t)}))}var j=n(4),p=n.n(j),m="2021-04-08T00:00:00Z",g="2021-04-08T23:59:59Z",h={start:p.a.string,end:p.a.string},O=(p.a.number,p.a.oneOf(["mobile","desktop"]),p.a.string,p.a.string,p.a.arrayOf(p.a.shape(h)),n(16)),f=n.n(O),v=Object(i.d)(Object(i.e)({isLoading:!1,devices:[],newRange:{id:null,start:m,end:g},user:{},isModalOpen:!1,getDevices:Object(i.f)((function(e,t){t.startDate,t.endDate;return b(u,5e3)})),updateDevice:Object(i.f)((function(e,t){return b({id:t.id,reserve:t.reserve},5e3)})),onGetDevices:Object(i.c)((function(e){return[e.getDevices.startType,e.getDevices.successType]}),(function(e,t){var n=t.resolvedTargets,a=Object(l.a)(n,1)[0];e.isLoading=t.type===a,t.result&&(e.devices=t.result)})),onUpdateDevice:Object(i.c)((function(e){return[e.updateDevice.startType,e.updateDevice.successType]}),(function(e,t){var n=t.resolvedTargets,a=t.payload,r=Object(l.a)(n,2),c=r[0],o=r[1];e.isLoading=t.type===c,t.type===o&&(e.devices=e.devices.map((function(e){return e.id===a.id?Object(d.a)(Object(d.a)({},e),{},{reserve:[].concat(Object(s.a)(e.reserve),Object(s.a)(a.reserve))}):e})))})),openModal:Object(i.b)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isModalOpen=t,t&&(e.newRange={start:m,end:f()(g).minute(0).format()},e.newRange.id=e.devices[0].id)})),setNewRange:Object(i.b)((function(e,t){var n=t.key,a=t.value;e.newRange[n]=a}))},{storage:"localStorage"}),{name:"Superb",version:1}),x=n(92),y=n(174),w=n(14),N=n(84),C=n(175),k=n(177),T=n(165),D=n(162),M=n(166),S=n(167),H=n(164),R=n(91),I=n.n(R),P=n(67),Z=n(3),A=n(160),L=Object(A.a)({root:{boxShadow:"2px 0 2px 0 #c3c3c3",zIndex:1},item:{borderTop:"1px solid #c3c3c3",height:function(e){return e.rowHeight}},header:{height:function(e){return e.headerHeight}}}),z=n(6),B=function(e){var t=e.className,n=e.items,a=e.component,r=Object(P.a)(e,["className","items","component"]),c=L({rowHeight:80,headerHeight:35});return Object(z.jsxs)(a,Object(d.a)(Object(d.a)({className:Object(Z.a)(t,c.root)},r),{},{children:[Object(z.jsx)(k.a,{className:c.header,p:1,bgcolor:"grey.200",children:Object(z.jsx)(D.a,{variant:"body2",children:"Device/Time"})}),n.map((function(e){var t=e.name,n=e.id,a=e.key;return Object(z.jsxs)(k.a,{className:c.item,p:1,bgcolor:"white",children:[Object(z.jsx)(D.a,{color:"primary",children:t}),Object(z.jsx)(D.a,{color:"textSecondary",variant:"caption",children:a})]},n)}))]}))};B.defaultProps={className:"",items:[],component:H.a};var W=Object(a.memo)(B),Y=n(90),G=n.n(Y),J=Object(A.a)({root:{gridRow:function(e){return e.row},gridColumn:function(e){var t=e.column;return"".concat(t.start,"/").concat(t.end)},borderRadius:2,zIndex:1}});f.a.extend(G.a);var X=function(e){var t=e.className,n=e.frame,r=e.row,c=Object(a.useMemo)((function(){return{start:2*(f.a.utc(n.start).get("hour")+f.a.utc(n.start).get("minute")/60),end:2*(f.a.utc(n.end).get("hour")+f.a.utc(n.end).get("minute")/60)}}),[n]),o=J({row:r,column:c});return Object(z.jsx)(k.a,{className:Object(Z.a)(t,o.root),bgcolor:"primary.light"})};X.defaultProps={className:"",row:1};var _=Object(a.memo)(X),E=40,F=Object(A.a)((function(e){var t=e.spacing,n=e.palette;return{root:{position:"relative",padding:t(0,3,0,0),background:n.grey[300],overflowX:"scroll"},header:{display:"grid",height:function(e){return e.headerHeight},gridGap:1,gridTemplateColumns:"repeat(48, ".concat(E,"px)")},label:{position:"relative",display:"flex",height:"100%",width:"100%",gridColumn:"span 2",justifySelf:"center",alignItems:"center",justifyContent:"center",overflow:"hidden",fontSize:t(1.5),borderBottom:"1px solid #c7c7c7","&:before":{content:'"|"',position:"absolute",bottom:-8,left:"50%",transform:"translateX(-50%)"}},grid:{display:"grid",overflow:"visible",gridTemplateColumns:"repeat(48, ".concat(E,"px)"),gridGap:1,gridTemplateRows:function(e){var t=e.rows,n=e.rowHeight;return"repeat(".concat(t,", ").concat(n,"px)")}},bg:{position:"absolute",top:function(e){return e.headerHeight},bottom:0,left:0,width:1960,background:"repeating-linear-gradient(to right,transparent 0 ".concat(81,"px,#c7c7c7 ").concat(81,"px ").concat(82,"px),\nrepeating-linear-gradient(to bottom, transparent 0 ").concat(79,"px,#c7c7c7 ").concat(81,"px ").concat(80,"px)\n#fff")},box:{background:n.grey[50]}}})),Q=function(e){var t=e.className,n=e.items,c=e.component,o=Object(P.a)(e,["className","items","component"]),i=F({rowHeight:80,headerHeight:35,rows:n.length}),l=Object(a.useMemo)((function(){return Object(s.a)(new Array(24)).map((function(e,t){return{key:t,label:"".concat(t+1,":00")}}))}),[]);return Object(z.jsxs)(c,Object(d.a)(Object(d.a)({className:Object(Z.a)(t,i.root)},o),{},{children:[Object(z.jsx)(k.a,{className:i.header,children:l.map((function(e){var t=e.key,n=e.label;return Object(z.jsx)("div",{className:i.label,children:Object(z.jsx)("span",{children:n})},"".concat(t,"_").concat(n))}))}),Object(z.jsx)(k.a,{className:i.grid,children:n.map((function(e,t){var n=e.reserve,a=void 0===n?[]:n,c=e.id;return Object(z.jsx)(r.a.Fragment,{children:a.map((function(e,n){return Object(z.jsx)(_,{row:t+1,frame:e},"frame_".concat(c,"_").concat(n))}))},t)}))}),Object(z.jsx)("div",{className:i.bg})]}))};Q.defaultProps={className:"",items:[],component:H.a};var U=Object(a.memo)(Q),q=Object(A.a)((function(e){var t=e.spacing;return{root:{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center"},progress:{position:"absolute",top:0,right:0,left:0,height:t(1)},table:{position:"relative",border:"1px solid #c7c7c7",borderRadius:4,overflow:"hidden"},body:{border:"1px solid #c3c3c3"},actions:{display:"flex",justifyContent:"space-between",alignItems:"center"},devices:{width:t(25)}}})),K=function(){var e=Object(a.useState)({startDate:m,endDate:g}),t=Object(l.a)(e,1)[0],n=Object(i.g)((function(e){return e})),r=n.getDevices,c=n.openModal,o=Object(i.h)((function(e){return e})),s=o.isLoading,d=o.devices,u=q(),b=f()().format("MMM DD,YYYY"),j=Object(a.useCallback)((function(){c(!0)}),[c]);return Object(a.useEffect)((function(){r(t)}),[t,r]),Object(z.jsx)(k.a,{className:u.root,children:Object(z.jsxs)(T.a,{children:[Object(z.jsx)(D.a,{color:"primary",children:"Reservations"}),Object(z.jsxs)(k.a,{className:u.table,bgcolor:"grey.300",my:4,p:3,children:[Object(z.jsxs)(k.a,{className:u.actions,pb:2,children:[s&&Object(z.jsx)(M.a,{className:u.progress}),Object(z.jsx)(D.a,{children:b}),Object(z.jsx)(S.a,{color:"primary",disabled:s,variant:"contained",onClick:j,startIcon:Object(z.jsx)(I.a,{}),children:"Add reservation"})]}),Object(z.jsxs)(H.a,{className:u.body,container:!0,children:[Object(z.jsx)(W,{item:!0,xs:3,items:d}),Object(z.jsx)(U,{item:!0,xs:9,items:d})]})]})]})})},V=n(137),$=n(168),ee=n(133),te=n(134),ne=n(169),ae=n(183),re=n(178),ce=n(185),oe=n(180),ie=n(179),se=n(176),de=Object(A.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{minWidth:e.spacing(35),backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),le=function(){var e=de(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(i.h)((function(e){return e})),s=o.isModalOpen,d=o.newRange,u=o.devices,b=o.isLoading,j=Object(i.g)((function(e){return e})),p=j.openModal,m=j.setNewRange,g=j.updateDevice,h=Object(a.useCallback)((function(){p(!1)}),[p]),O=function(e){return function(t){m({key:e,value:t.utc().second(0).format()})}},v=Object(a.useCallback)((function(e){var t=e.target;m({key:"id",value:t.value})}),[m]),x=Object(a.useCallback)((function(){var e=u.find((function(e){return e.id===d.id})).reserve,t=[d.start,d.end].sort(),n=Object(l.a)(t,2),a=n[0],r=n[1];(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(t){var n=t.start,a=t.end;return n<e.end&&a>e.start}))})(e,{start:a,end:r})?c(!0):g({id:d.id,reserve:[{start:a,end:r}]}).then((function(){p(!1)}))}),[u,d,g,p]),y=function(){c(!1)};return Object(z.jsx)(V.a,{className:e.modal,open:s,onClose:h,closeAfterTransition:!0,BackdropComponent:$.a,BackdropProps:{timeout:500},children:Object(z.jsx)(ee.a,{in:s,children:Object(z.jsxs)(te.a,{className:e.paper,children:[Object(z.jsx)(k.a,{width:"100%",my:2,children:Object(z.jsxs)(ne.a,{fullWidth:!0,className:e.formControl,children:[Object(z.jsx)(ae.a,{id:"device",children:"Please choose device"}),Object(z.jsx)(re.a,{labelId:"device",value:d.id,onChange:v,children:u.map((function(e){var t=e.id,n=e.name;return Object(z.jsx)(ce.a,{value:t,children:n},t)}))})]})}),Object(z.jsxs)(k.a,{width:"100%",display:"flex",justifyContent:"space-between",mb:4,children:[Object(z.jsx)(se.a,{minutesStep:30,ampm:!1,value:f.a.utc(d.start),onChange:O("start")}),Object(z.jsx)(se.a,{minutesStep:30,ampm:!1,value:f.a.utc(d.end),onChange:O("end")})]}),Object(z.jsx)(S.a,{variant:"contained",disabled:b,color:"primary",onClick:x,children:"Submit"}),Object(z.jsx)(oe.a,{open:r,autoHideDuration:6e3,onClose:y,children:Object(z.jsx)(ie.a,{elevation:6,variant:"filled",severity:"error",onClose:y,children:"Please change date range!"})})]})})})},ue=Object(x.a)({typography:{htmlFontSize:15,body1:{fontWeight:500}}});var be=function(){return Object(z.jsx)(w.a,{utils:N.a,children:Object(z.jsxs)(y.a,{theme:ue,children:[Object(z.jsx)(C.a,{}),Object(z.jsx)(le,{}),Object(z.jsx)(K,{})]})})};o.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(i.a,{store:v,children:Object(z.jsx)(be,{})})}),document.getElementById("root"))},83:function(e){e.exports=JSON.parse('[{"id":1,"type":"mobile","name":"HTC One M8","key":"HTC19WM00429","reserve":[{"start":"2021-04-08T17:30:00Z","end":"2021-04-08T18:00:00Z"}]},{"id":2,"type":"mobile","name":"Motorola Moto X 2014","key":"TA9890AQPQ","reserve":[{"start":"2021-04-08T19:30:00Z","end":"2021-04-08T20:30:00Z"}]}]')}},[[131,1,2]]]);
//# sourceMappingURL=main.31229abd.chunk.js.map